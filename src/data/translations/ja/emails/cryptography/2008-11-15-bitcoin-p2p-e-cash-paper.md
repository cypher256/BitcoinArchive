---
title: "ビットコイン P2P 電子キャッシュ論文"
date: 2008-11-15T04:43:00.000Z
source: cryptography-mailing-list
sourceUrl: "http://www.metzdowd.com/pipermail/cryptography/2008-November/014858.html"
author: "Satoshi Nakamoto"
participants:
  - name: "Satoshi Nakamoto"
    slug: "satoshi-nakamoto"
description: "Satoshi NakamotoがRay Dillingerの技術的な質問に詳細に回答し、トランザクションの仕組み、プルーフ・オブ・ワーク、二重支払い防止について説明した投稿。"
isSatoshi: true
secondarySources:
  - name: "Satoshi Nakamoto Institute"
    url: "https://satoshi.nakamotoinstitute.org/emails/cryptography/13/"
translationStatus: complete
---

できるだけ早くソースコードをリリースするよう急ぎます。これらの実装に関する疑問をすべて解消する参考になるでしょう。

Ray Dillinger (Bear) の投稿：
> コインが使われる際、買い手と売り手は（ブラインド化された）
> トランザクション記録にデジタル署名する。

署名するのは買い手のみであり、ブラインド化はない。

> 誰かが二重支払いをした場合、トランザクション記録の
> ブラインドを解除して不正者の身元を明らかにすることができる。

身元は使用されず、償還請求への依存もない。すべては予防である。

> これはかなり標準的なカットアンドチューズアルゴリズムで行われ、
> 買い手は秘密分散を使ったいくつかのチャレンジに応答する

チャレンジも秘密分散もない。基本的なトランザクションはセクション2の図に示されているものである。前のトランザクションの公開鍵を満たす（買い手の）署名と、次回使用時に満たす必要がある（売り手の）新しい公開鍵である。

> 作業中に延長しようとしているチェーンと同じ長さだが、
> 最後の数「リンク」が取り組んでいるチェーンと共通で*ない*
> リンクであるチェーンを受信することもある。
> これらは無視する。

その通り、長さが等しい場合は、最初に受信したものを保持することで同点を解消する。

> 二重支払いが含まれている場合、二重支払いの「証拠」となる
> 「トランザクション」を作成し、プールAに追加し、
> ブロードキャストして作業を続ける。

そのような「二重支払いの証拠」の報告は必要ない。同じチェーンに両方の支払いが含まれている場合、そのブロックは無効であり拒否される。

ブロックに十分なプルーフ・オブ・ワークがない場合も同様である。そのブロックは無効であり拒否される。それについてレポートを回覧する必要はない。すべてのノードがそれを確認し、リレーする前に拒否できる。

2つの競合するチェーンがあり、それぞれが同じトランザクションの異なるバージョンを含み、一方が資金をある人に、もう一方が同じ資金を別の人に送ろうとしている場合、どちらの支払いが有効かを裁定するのがプルーフ・オブ・ワークチェーンのすべてである。

我々は二重支払いを「監視」してアラームを鳴らし不正者を捕まえるのではない。単にどちらの支払いが有効かを裁定するのである。トランザクションの受取人は、解決のための時間を確保するために数ブロック待つ必要がある。不正を試みる者はすべて好きなだけ二重支払いを同時に試みればよいが、数ブロック以内に支払いの1つが有効となり、他は無効となる。メインチェーンに既に支払いが存在すれば、後の二重支払いは即座に拒否される。

まだチェーンに入っていないが、すべてのノードのプールに既にある場合でも、2番目の支払いは既に最初の支払いを持っているすべてのノードによって拒否される。

> 新しいチェーンが受け入れられた場合、現在のリンクの追加を
> 諦め、プールLからすべてのトランザクションをプールAに
> 戻し（作業開始以降に受信または作成したトランザクションとともに）、
> 新しいチェーンのリンクの一部であるトランザクション記録を
> プールAから除外し、新しいチェーンの延長を
> 再度試みて作業を開始する。

その通り。新しいトランザクションが入るたびにリフレッシュも行うので、LはほぼすべてのA内のものを常に含んでいる。

> CPU集約型のデジタル署名アルゴリズムで
> 新しいブロックLを含むチェーンに署名する。

これは署名ではなく、Hashcash方式のSHA-256プルーフ・オブ・ワーク（ゼロの部分的プリイメージ）である。

> 「チェーン」が最も速い3〜4ノードだけによって追加された
> リンクのみで構成されないことを保証するメカニズムはあるか？
> ブロードキャストされたトランザクション記録がその3〜4ノードを
> 容易にすり抜け、それらのノードがチェーンを支配し続けると、
> トランザクションが追加されない可能性がある。

これをCPU集約型のデジタル署名として考えている場合、長い操作を最初に完了する競争であり、最も速い者が常に勝つと考えているかもしれない。

プルーフ・オブ・ワークはHashcash方式のSHA-256衝突発見である。毎秒数百万回のハッシュを行うメモリレスプロセスであり、毎回小さな確率で見つかる。最も速い3〜4ノードの優位性は、総CPUパワーに占めるシェアに比例するだけである。誰でもいつでも解を見つける確率は、CPUパワーに比例する。

トランザクション手数料があるため、ノードは受信したすべてのトランザクションを受け入れて含めるインセンティブを持つ。作成されたコインの総数が所定の上限に達すると、ノードは最終的にトランザクション手数料のみで報酬を受ける。

> また、チェーンにリンクを追加する作業要件は、
> 前の週にそのチェーンに追加されたリンクの数に応じて
> （再び指数関数的に）変動し、コイン生成率
> （したがってインフレ）を厳密に制御すべきである。

その通り。

> これをスケールさせるにはコインの集約が必要だ。
> 誰かが単一額面のコイン10枚を引退させ、
> 額面10の新しいコイン1枚を作成する「証明可能な」
> トランザクションが必要だ。

すべてのトランザクションがこれである。セクション9、価値の結合と分割を参照。

Satoshi Nakamoto

---------------------------------------------------------------------
The Cryptography Mailing List
Unsubscribe by sending "unsubscribe cryptography" to majordomo at metzdowd.com
