---
title: "Linux - linux-0.1.6-test3"
date: 2009-11-12T05:36:06Z
source: correspondence
sourceUrl: "https://mmalmi.github.io/satoshi/"
author: "Satoshi Nakamoto"
participants:
  - name: "Satoshi Nakamoto"
    slug: "satoshi-nakamoto"
  - name: "Martti Malmi"
    slug: "martti-malmi"
description: "ゾンビソケット検出コードの追加、再接続速度の改善、生成ブロックの受信確認チェック機能の実装を含むtest3のリリース。"
isSatoshi: true
threadId: "satoshi-martti-malmi"
threadTitle: "Satoshi ↔ Martti Malmi Correspondence"
threadPosition: 76
tags:
  - "correspondence"
  - "early-contributor"
  - "linux"
secondarySources:
  - name: "Martti Malmi's Published Email Archive"
    url: "https://mmalmi.github.io/satoshi/"
  - name: "COPA v. Wright Trial Exhibits"
    url: "https://www.opencrypto.org/2024-02-22-witnesses-satoshi-correspondence/"
translationStatus: complete
---

現在（GMT 04:50）私のノードがあなたのノードに接続していますが、毎回ゾンビ接続になっています。ソケットはエラーを返さず、通知なしにゾンビになるだけです。今Linuxビルドを実行しているなら、あなた側のログに何が表示されているか見てみると興味深いでしょう。

test3：

ゾンビソケットを検出するための専用コードを追加しました。接続から60秒以内にデータの送受信がないソケットを検出し、送信待ちのデータが3分間送信されていない場合も検出します。

test2で再接続速度を弱めてしまったかもしれません。test3では素早く再接続するようにより積極的にしています。

他のノードがあなたの生成したブロックを受信したかどうかを追跡するチェック機能を追加しました。どのノードも受信しなかった場合、説明文で警告します：
「Generated - Warning: This block was not received by any other nodes and will probably not be accepted!」

ブロックやトランザクションが他のどのノードにも送信されない場合、ステータスは「#/offline?」になります。

これらすべてにより、おかしくなったらすぐに気付かないことは不可能なはずです。すべてのゾンビソケットを切断できるはずです。その後、良好な接続を確立できるのか、それともソケットが完全に壊れて0接続のままなのかは分かりません。

これでうまくいかない場合は、BitTorrentなど他のP2Pアプリのソースコードを見て、こうした問題にどう対処しているか確認するつもりです。ソケットシステムを復活させるための魔法のフラグや手順があるかもしれません。

ファイルlinux-0.1.6-test3.tar.bz2は次のメッセージに添付します。


Liberty Standardの書き込み：
> 2009年11月11日 午前8:08、Liberty Standard
> <newlibertystandard@gmail.com <mailto:newlibertystandard@gmail.com>> の書き込み：
>
>     ネットワーク接続はコンピュータに直接つながっています。ISPはインターネットに
>     接続するためにVPNの実行を要求します。その上で2つ目のNICでインターネットを
>     他のデバイスと共有しています。コンピュータを使用中のIPアドレスは実際のIP
>     アドレスですが、2つ目のNIC経由で接続されたデバイスはNATを使用します。
>     仮想マシン経由で接続する場合もNATを使用します。これらの設定にはほとんど
>     設定が不要です。UbuntuのNetworkManagerには2つ目のNIC経由でインターネット
>     接続を共有するオプションがあり、VirtualBoxにはNATを使用するオプションが
>     あります。
>
>     また数パックのBitcoinを失ったので、その問題はまだ修正されていません。
>     何が起こっているか分かった今では少し耐えられます。当面はBitcoinの
>     熟成が始まるのを見たら再起動するようにします。LinuxとWineを行き来
>     するかもしれませんが、新しいバージョンが出るたびに必ずテストします。
>     現時点ではまだLinuxビルドを実行しています。
>
>
>
>     2009年11月11日 午前7:49、Satoshi Nakamoto <satoshin@gmx.com
>     <mailto:satoshin@gmx.com>> の書き込み：
>
>         ありがとうございます。ログは特別なところで止まっておらず、単純な
>         メッセージ受け渡しでした。おそらくUI関連でしょう。初期のバグの
>         ほとんどはUIに関するものでした。
>
>         ファイアウォールのブランド/モデルは何ですか？BitTorrentが一部の
>         モデルが処理できる接続数を圧倒する可能性があります。ほとんどの
>         モデルは性能不足で、負荷がかかると不安定です。
>
>         NewLibertyStandardの書き込み：
>
>             添付ファイルはちゃんと受け取れています。Marttiに大きな
>             添付ファイルを送らないようにしただけです。
>
>             バグを再現できません。ペースト、ブロックの完了、両方の
>             組み合わせ、それとも全く別のものが障害を引き起こしたのか
>             分かりません。
>
>         ...
>
>                     しかしダウンロードが始まった後、BitTorrentクライアントを
>                    見てみたら、案の定、あるトレントのことを忘れていて、
>                    アップロードが設定した上限でかなり高くなっていました。
>
>
>
>
>

*出典：COPA対Wright裁判の証言の一環として、2024年2月にMartti MalmiによりGitHubで公開。完全な書簡アーカイブはmmalmi.github.io/satoshi/で閲覧可能。*
