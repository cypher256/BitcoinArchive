---
title: "JSON-RPCを使用したサンプルアカウントシステムが必要"
date: 2010-07-16T19:45:10.000Z
source: bitcointalk
sourceUrl: "https://bitcointalk.org/index.php?topic=417.msg3579#msg3579"
author: "Satoshi Nakamoto"
participants:
  - name: "Satoshi Nakamoto"
    slug: "satoshi-nakamoto"
description: "サトシ・ナカモトの投稿: \"JSON-RPCを使用したサンプルアカウントシステムが必要\"."
isSatoshi: true
secondarySources:
  - name: "Satoshi Nakamoto Institute"
    url: "https://satoshi.nakamotoinstitute.org/posts/bitcointalk/226/"
translationStatus: complete
---

JSON-RPCインターフェースを使用してアカウントシステムを作成する推奨方法を示すサンプルコード（できればPythonまたはJava）を誰かに書いてもらう必要があります。商品を販売するほとんどのサイトでは、このようなものが必要になります。ここのJSON-RPCスレッドを追いかけている方なら、どのように動作すべきかある程度わかるはずです。

ユーザーがアカウントにログインしている時、資金を追加するために送金できるビットコインアドレスを表示します。表示する前に、それが使用済みかどうかを確認し、使用済みであれば新しいもの（getnewaddress <ユーザー名>）に置き換えます。データベースにはそのアカウントの最新のビットコインアドレスのみ保持すればよいです。（以前のスレッドでこのサンプルコードの断片を投稿しました。getnewaddressで検索してください）

ユーザー名をラベルとして使用し、getreceivedbylabel <ユーザー名> でアカウントの「クレジット」金額を取得します。データベースには「デビット」金額を保持する必要があります。アカウントの現在の残高は（クレジット - デビット）です。ユーザーがお金を使う時、デビットを増やします。

0回より多い承認を要求する場合は、現在の残高（0承認）と利用可能残高（1回以上の承認）を表示すると親切です。そうすれば、支払いが認識されたことをすぐに確認できます。すべてのサイトが承認を待つ必要があるわけではないので、現在と利用可能の二重表示はオプションにすべきです。デジタル商品を販売するほとんどのサイトでは、0承認でも問題ありません。

これの良いサンプルアプリは、シンプルな銀行サイトで、上記の機能に加えて、ビットコインアドレスへの支払い送信オプションがあるものです。サンプルコードは、動作するサイトにするための最小限の追加要素で、できるだけシンプルにすべきです。

vekja.netがこのようなサイトの例です。
