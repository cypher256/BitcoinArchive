---
title: "返信: プロキシ"
date: 2009-11-05T15:25:27Z
source: correspondence
sourceUrl: "https://mmalmi.github.io/satoshi/"
author: "Satoshi Nakamoto"
participants:
  - name: "Satoshi Nakamoto"
    slug: "satoshi-nakamoto"
  - name: "Martti Malmi"
    slug: "martti-malmi"
description: "プロキシ設定とTOR接続に関する技術的な議論。SVNコミットでのアドレス接続順序の改良、Wikiページでの静的IPシードリストの提案、匿名ユーザーのステルス要件について。"
isSatoshi: true
threadId: "satoshi-martti-malmi"
threadTitle: "Satoshi ↔ Martti Malmi Correspondence"
threadPosition: 58
tags:
  - "correspondence"
  - "early-contributor"
  - "networking"
secondarySources:
  - name: "Martti Malmi's Published Email Archive"
    url: "https://mmalmi.github.io/satoshi/"
  - name: "COPA v. Wright Trial Exhibits"
    url: "https://www.opencrypto.org/2024-02-22-witnesses-satoshi-correspondence/"
translationStatus: complete
---

mmalmi@cc.hut.fi の書き込み：
> プロキシ設定を有効にしてBitcoinを再起動したところ、1分もしないうちに最初の
> 接続ができ、最終的には8接続まで達しました。これらがすべて本当にTOR経由なのか
> 気になります。Netstatではlocalhost:9050への接続が2つと、ローカルポート8333から
> 外部への接続が7つ表示されています。（表示されている接続の一部は既に切断された
> ものかもしれません。）なぜか実行中のフォルダにdebug.logがありません。

debug.logはデータディレクトリ「%appdata%/bitcoin/debug.log」に移動しました。

7つのインバウンドと2つのアウトバウンドは、おおよそ予想通りです。

前回のSVNコミットで、接続先アドレスの選択順序を全面的に見直し、最近オンラインが確認された順に試行するようにしました。これにより、IRCが利用できない場合でもより合理的な時間で接続できるはずです。IRCは本来、最初の接続のシードとしてのみ必要なのですが、より速く接続するための頼みの綱として使っていました。

>> 受信接続を受け入れるノードの一部が、自分のIPをプログラムにコード化してもよい
>> というなら、自動的にシードできます。あるいは、手順説明と一緒にWikiページに
>> いくつかのIPシードアドレスを掲載するとか。
>
> Wikiページは良い案で、すぐに実行できる解決策ですね。自分のIPをそこで
> 最新に保つようにして、他の人にも同じことをお願いできます。Linuxビルドが
> 動くようになれば、ほとんどの時間オンラインで静的IPを持つサーバーにノードを
> 立てやすくなります。Bitcoinに同梱された静的IPリストとピア交換プロトコルが
> あれば素晴らしいですね。そうすればIRCサーバーは不要になります。

それは素晴らしいですね。TORユーザーだけが必要とするものなので、「bitcoin -proxy=127.0.0.1:9050 -addnode=<someip>」という手順説明で、someipの部分を実際の静的IPにできます。Wikiの誰でもIPを追加できるリストをそばに置くか、そこへのリンクを貼ればいいでしょう。受信接続を受け入れられるようになったら、静的IPの場合はこのリストにIPを追加してください、というオプションの手順へのリンクを用意すべきです。

匿名の人々は完全にステルスでいたいのでしょうか。つまり、TORなしでは一度も接続せず、自分がBitcoinを使っていることを誰にも知られたくないということなのか、それとも取引をする前にTORに切り替えたいだけなのか。完全にステルスでいたい場合のみ、-proxy -addnodeの手動シーディングを行う必要があります。これは非常に簡単にミスしてしまいます。最初にBitcoinを普通に起動すると、すぐに自動的に接続を開始してしまいますから。

*出典：COPA対Wright裁判の証言の一環として、2024年2月にMartti MalmiによりGitHubで公開。完全な書簡アーカイブはmmalmi.github.io/satoshi/で閲覧可能。*
