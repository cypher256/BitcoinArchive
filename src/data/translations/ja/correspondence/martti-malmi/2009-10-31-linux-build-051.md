---
title: "返信: Linuxビルド"
date: 2009-10-31T20:09:58Z
source: correspondence
sourceUrl: "https://mmalmi.github.io/satoshi/"
author: "Satoshi Nakamoto"
participants:
  - name: "Satoshi Nakamoto"
    slug: "satoshi-nakamoto"
  - name: "Martti Malmi"
    slug: "martti-malmi"
description: "heapchk()はMSVCRTのデバッグ用のもので使われていない。Linuxではno-opにできる。"
isSatoshi: true
threadId: "satoshi-martti-malmi"
threadTitle: "Satoshi ↔ Martti Malmi Correspondence"
threadPosition: 51
tags:
  - "correspondence"
  - "early-contributor"
  - "linux"
  - "development"
secondarySources:
  - name: "Martti Malmi's Published Email Archive"
    url: "https://mmalmi.github.io/satoshi/"
  - name: "COPA v. Wright Trial Exhibits"
    url: "https://www.opencrypto.org/2024-02-22-witnesses-satoshi-correspondence/"
translationStatus: complete
---

heapchk()はMSVCRTのデバッグ用のもので使われていない。Linuxではno-opにできる。OpenSSLはLinuxでは自動的に/dev/urandomを使ってシードするので、RandAddSeedPerfmonもno-opにできる。

十分にオフネットでテストするまでネットワークに接続させないでくれ。2台のパソコンがあれば、インターネットを切断して「bitcoin -connect=<ip>」で互いに接続できる。1台はWindows、もう1台はLinuxで。-connectを使えば192.168.x.xのようなルーティング不可能なアドレスにも接続できる。まだ想定していなかった不正なデータを送り出したり、ネットワーク上で何か反社会的なことをしてしまったりして、ネットワークの信頼性に悪影響を与えたくない。

ビルドできる状態のものができたら、テストする時間はある。今実施中の変更に対するストレステストに含めることができるよ。

mmalmi@cc.hut.fi の書き込み:
> util.hでQueryPerformanceCounterをLinuxのgettimeofdayに置き換える#ifdefを
> 作りました。Unicode/ANSIのエラーはwxWidgets 2.9にアップデートしたらコード
> 変更なしで解決しました。現在Linuxで出ている唯一のコンパイルエラーは
> util.hのheapchk()からのものです。
>
>> 見つけた移植性のないコードをいくつか修正した：
>> QueryPerformanceCounter
>> printfフォーマット文字列の%I64d
>> Sleep
>> CheckDiskSpace
>>
>> 他に修正すべき移植性のないコードを知っていたら教えてほしい。
>>
>> debug.logとdb.logは、現在のディレクトリではなく、データファイルと同じ
>> ディレクトリ（%appdata%\Bitcoin）に移動しようと思う。
>
>
>

*出典：COPA対Wright裁判の証言の一環として、2024年2月にMartti MalmiによりGitHubで公開。完全な書簡アーカイブはmmalmi.github.io/satoshi/で閲覧可能。*
